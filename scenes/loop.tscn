[gd_scene load_steps=10 format=3 uid="uid://c23vyokedh25j"]

[ext_resource type="Script" uid="uid://dc61jsp7ri5ni" path="res://scripts/loop.gd" id="1_fpe6o"]
[ext_resource type="Texture2D" uid="uid://wajv0p62nlg7" path="res://icon.svg" id="1_p0t4i"]
[ext_resource type="Texture2D" uid="uid://i4s55q5iy7e6" path="res://assets/animations/loop-effect/loop-damage.png" id="3_ayrsc"]
[ext_resource type="Script" uid="uid://byc17nc8ui05a" path="res://scripts/animated_sprite.gd" id="4_kyqv0"]

[sub_resource type="CircleShape2D" id="CircleShape2D_fpe6o"]
radius = 50.0

[sub_resource type="AtlasTexture" id="AtlasTexture_85g3d"]
atlas = ExtResource("3_ayrsc")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_choun"]
atlas = ExtResource("3_ayrsc")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ya4ey"]
atlas = ExtResource("3_ayrsc")
region = Rect2(0, 128, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_kyqv0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_85g3d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_choun")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ya4ey")
}],
"loop": true,
"name": &"loop_attack",
"speed": 5.0
}]

[node name="Node2D" type="Node2D" node_paths=PackedStringArray("damage_timer")]
script = ExtResource("1_fpe6o")
damage_timer = NodePath("DamageTimer")

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
modulate = Color(1, 1, 1, 0.458824)
scale = Vector2(0.5, 0.5)
texture = ExtResource("1_p0t4i")

[node name="DamageTimer" type="Timer" parent="."]
autostart = true

[node name="Polygon2D" type="Polygon2D" parent="."]
color = Color(0.266667, 1, 1, 0.0156863)
polygon = PackedVector2Array(-1, -51, 14, -48, 30, -42, 39, -31, 46, -21, 49, -9, 51, 8, 46, 25, 37, 32, 21, 42, 3, 47, -15, 48, -31, 43, -42, 32, -44, 21, -44, 4, -45, -10, -45, -26, -37, -36, -23, -41, -7, -48)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_fpe6o")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
modulate = Color(1, 1, 1, 0.45098)
sprite_frames = SubResource("SpriteFrames_kyqv0")
animation = &"loop_attack"
autoplay = "loop_attack"
script = ExtResource("4_kyqv0")

[connection signal="timeout" from="DamageTimer" to="." method="_on_damage_timer_timeout"]
